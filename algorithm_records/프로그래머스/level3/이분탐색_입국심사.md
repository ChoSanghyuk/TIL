# 프로그래머스 입국심사 문제풀이 (자바)

## 문제 개요

n명이 입국심사를 위해 줄을 서서 기다리고 있습니다. 각 입국심사대에 있는 심사관마다 심사하는데 걸리는 시간은 다릅니다.

처음에 모든 심사대는 비어있습니다. 한 심사대에서는 동시에 한 명만 심사를 할 수 있습니다. 가장 앞에 서 있는 사람은 비어 있는 심사대로 가서 심사를 받을 수 있습니다. 하지만 더 빨리 끝나는 심사대가 있으면 기다렸다가 그곳으로 가서 심사를 받을 수도 있습니다.

모든 사람이 심사를 받는데 걸리는 시간을 최소로 하고 싶습니다.

입국심사를 기다리는 사람 수 n, 각 심사관이 한 명을 심사하는데 걸리는 시간이 담긴 배열 times가 매개변수로 주어질 때, 모든 사람이 심사를 받는데 걸리는 시간의 최솟값을 return 하도록 solution 함수를 작성해주세요.

##### 제한사항

- 입국심사를 기다리는 사람은 1명 이상 1,000,000,000명 이하입니다.
- 각 심사관이 한 명을 심사하는데 걸리는 시간은 1분 이상 1,000,000,000분 이하입니다.
- 심사관은 1명 이상 100,000명 이하입니다.

##### 입출력 예

| n    | times   | return |
| ---- | ------- | ------ |
| 6    | [7, 10] | 28     |

##### 입출력 예 설명

가장 첫 두 사람은 바로 심사를 받으러 갑니다.

7분이 되었을 때, 첫 번째 심사대가 비고 3번째 사람이 심사를 받습니다.

10분이 되었을 때, 두 번째 심사대가 비고 4번째 사람이 심사를 받습니다.

14분이 되었을 때, 첫 번째 심사대가 비고 5번째 사람이 심사를 받습니다.

20분이 되었을 때, 두 번째 심사대가 비지만 6번째 사람이 그곳에서 심사를 받지 않고 1분을 더 기다린 후에 첫 번째 심사대에서 심사를 받으면 28분에 모든 사람의 심사가 끝납니다.





## 문제풀이

​	이분 탐색을 이용해서 최적의 시간 값을 찾는 문제입니다. 입국 사람 인원과 심사관들의 심사 시간을 이용해서 최적의 시간을 계산하는 것이 아닌, 최적 시간이 될 수 있는 시간의 범주를 점점 좁혀가면서 모든 인원을 통과시키는 시간들 중 최저값을 구합니다. 이를 위한 설계는 다음과 같이 진행했습니다.

1. 최적 시간이 될 수 있는 최대 범위 설정
2. 최적 범위의 중간값이 원하는 인원만을 통과시키는 지 확인. 
   - 통과 인원이 목표 인원보다 초과 => 범주를 `최저값 ~ 중간값-1`로 재설정
   - 통과 인원이 목표 인원보다 미만 => 범주를 `중간값+1~ 최대값`로 재설정
   - 통과 인원이 목표 인원과 일치 => 범주를 `최저값 ~ 중간값`로 재설정
3. 범주가 하나의 값으로 수렴한다면 반복문을 중단하고 값 반환

  여기서 통과 인원이 목표 인원과 일치할 때 범주를 `최저값 ~ 중간값`로 설정하는 이유는 조건을 만족하는 시간들 중 최저값을 찾기 위함입니다. 중간값이 최적값일 수 도 있으므로, 이를 포함하고 작은 수들 중에서 조건을 만족하는 값이 있는지 재탐색합니다.

​	이를 구현하는 코드는 다음과 같습니다.

```java
class Solution {
    // 1. 최적 시간이 될 수 있는 최대 범위 설정
    public static long begin = 0;
    public static long end = Long.MAX_VALUE;
    public long solution(long n, int[] times) {
        
        long people;
        long mid=0;
        long answer = 0;
        // 2. 최적 범위의 중간값이 원하는 인원만을 통과시키는 지 확인. 
        while(begin<end){
            mid = (begin+end)/2;
            people = 0;
            // 해당 중간값에서 통과되는 인원 확인
            for(int t : times){
                people += mid / t;
                if(people > n) break;
            } 
            // 2-1. 통과 인원이 목표 인원보다 초과 => 범주를 `최저값 ~ 중간값-1`로 재설정
            if(n < people){
                end = mid-1;
            // 2-2. 통과 인원이 목표 인원보다 미만 => 범주를 `중간값+1~ 최대값`로 재설정
            } else if (n > people) {
                begin = mid+1;
            // 2-3. 통과 인원이 목표 인원과 일치 => 범주를 `최저값 ~ 중간값`로 재설정
            } else {
                end = mid;
                
            }
        }
        // 3. 주가 하나의 값으로 수렴한다면 반복문을 중단하고 값 반환
        return end;
    }
}
```



## 주의 사항

시간이 범주의 중간일 때 통과하는 인원들을 구하는 부분에서 `if(people > n) break;` 이 코드를 넣어주지 않는 다면,  몇몇 테스트케이스에서 people값이 long의 범위를 넘어서게 된다. 또한 효율성 측면에서도 people값에 더 더할 필요가 없는지 확인해 주는 것이 필요하다.