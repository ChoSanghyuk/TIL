# 도커 설치 와 실행



## 설치



### MacOS or Windows

- 도커는 기본적으로 linux 지원 => 가상머신에 설치됨
- client - server 구조
  - docker CLI는 도커 호스트에 명령을 전달 => 처리 및 결과 전달 => 출력



## 실행



### 기본 명령어

- run
  - `docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]`
  - 옵션
    - -d : detached mode (백그라운드 모드)
    - -p : 호스트와 컨테이너 포트를 연결
    - -v : 호스트와 컨테이너의 디렉토리 연결
    - -e : 컨테이너 내에서 사용할 환경변수 설정
    - --name : 컨테이너 이름 설정
    - --rm : 프로세스 종료시 컨테이너 자동 제거
    - -it : -i 와 -t 동시 사용. 터미널 입력을 위한 옵션
    - --network : 네트워크 연결
  - 예시
    - `docker run ubuntu:20.04 `
      - 컨테이너는 하나의 프로세스
      - ubuntu:20.04 을 실행하고 더 실행할 프로세스가 없다면 바로 컨테이너 종료
    - `docker run --rm -it ubuntu:20.04 /bin/sh`
      - /bin/sh : 컨테이너 내부 쉘 실행
    - `docker run --rm -it centos:8 /bin/sh`
      - 다양한 리눅스 배포판 실행 O
      - 공통점은 모두 동일한 커널을 사용
    - `docker run --rm -p 1234:5678 hashicorp/http-echo -text="hello world"`
      - 내 local host 1234  포트와 hashicorp의 5678 포트를 바인딩함
- exec
  - 실행 중인 도커 컨테이너에 접속할 때 사용
  - 컨테이너 안에 ssh server 등을 설치하지 않고 exec 명령어로 접속
  - 예시
    - `docker exec -it mysql mysql`
      - mysql 이란 컨테이너에 접속하여 mysql 명령어 실행













